<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeStream - Track Every Moment</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #00BCD4 0%, #0097A7 100%);
            height: 100vh;
            overflow: hidden;
            color: #263238;
        }
        
        .app-container {
            display: flex;
            height: 100vh;
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px rgba(0, 188, 212, 0.3);
        }
        
        .sidebar {
            width: 300px;
            background: rgba(255, 255, 255, 0.98);
            border-right: 1px solid rgba(0, 188, 212, 0.2);
            display: flex;
            flex-direction: column;
        }
        
        .logo-section {
            padding: 25px;
            text-align: center;
            border-bottom: 1px solid rgba(0, 188, 212, 0.1);
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #00BCD4;
            margin-bottom: 5px;
        }
        
        .tagline {
            font-size: 0.9rem;
            color: #546E7A;
            font-weight: 400;
        }
        
        .quick-stats {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 188, 212, 0.1);
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #546E7A;
        }
        
        .stat-value {
            font-weight: 600;
            color: #00BCD4;
        }
        
        .active-goals {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .goals-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #263238;
        }
        
        .goal-card {
            background: linear-gradient(135deg, #00BCD4 0%, #00E676 100%);
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 12px;
            position: relative;
            overflow: hidden;
        }
        
        .goal-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%, transparent 75%, rgba(255,255,255,0.1) 75%);
            background-size: 20px 20px;
            opacity: 0.3;
        }
        
        .goal-title {
            font-weight: 600;
            margin-bottom: 8px;
            position: relative;
        }
        
        .goal-progress {
            font-size: 0.9rem;
            opacity: 0.9;
            position: relative;
        }
        
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 2px;
            transition: width 0.5s ease;
        }
        
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            padding: 20px 25px;
            border-bottom: 1px solid rgba(0, 188, 212, 0.1);
            background: rgba(255, 255, 255, 0.8);
        }
        
        .greeting {
            font-size: 1.3rem;
            font-weight: 600;
            color: #263238;
            margin-bottom: 5px;
        }
        
        .user-status {
            font-size: 0.95rem;
            color: #546E7A;
        }
        
        .chat-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: rgba(250, 250, 250, 0.5);
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-bubble {
            max-width: 70%;
            padding: 12px 18px;
            border-radius: 18px;
            font-size: 0.95rem;
            line-height: 1.4;
            position: relative;
        }
        
        .message.ai .message-bubble {
            background: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 188, 212, 0.1);
        }
        
        .message.user .message-bubble {
            background: linear-gradient(135deg, #00BCD4 0%, #0097A7 100%);
            color: white;
        }
        
        .message-time {
            font-size: 0.8rem;
            color: #9E9E9E;
            margin: 0 12px;
            margin-top: 8px;
        }
        
        .insight-bubble {
            background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%);
            border-left: 4px solid #4CAF50;
            margin-top: 10px;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .goal-suggestion {
            background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
            border-left: 4px solid #FF9800;
            margin-top: 10px;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        .input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid rgba(0, 188, 212, 0.1);
        }
        
        .input-container {
            display: flex;
            align-items: center;
            background: #F8F9FA;
            border-radius: 25px;
            padding: 8px 15px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .input-container:focus-within {
            border-color: #00BCD4;
            box-shadow: 0 0 0 3px rgba(0, 188, 212, 0.1);
        }
        
        .chat-input {
            flex: 1;
            border: none;
            background: none;
            padding: 8px 12px;
            font-size: 0.95rem;
            outline: none;
            font-family: inherit;
            resize: none;
            max-height: 100px;
        }
        
        .chat-input::placeholder {
            color: #9E9E9E;
        }
        
        .voice-btn, .send-btn {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 8px;
        }
        
        .voice-btn {
            background: #E0E0E0;
            color: #666;
        }
        
        .voice-btn:hover {
            background: #D0D0D0;
        }
        
        .voice-btn.recording {
            background: #FF5722;
            color: white;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .send-btn {
            background: linear-gradient(135deg, #00BCD4 0%, #0097A7 100%);
            color: white;
        }
        
        .send-btn:hover {
            transform: scale(1.05);
        }
        
        .send-btn:disabled {
            background: #E0E0E0;
            color: #9E9E9E;
            cursor: not-allowed;
            transform: none;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 8px 18px;
            background: white;
            border-radius: 18px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            max-width: 80px;
        }
        
        .typing-dots {
            display: flex;
            gap: 4px;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            background: #00BCD4;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        .celebration {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%);
            border-radius: 12px;
            margin: 10px 0;
            animation: celebrate 0.6s ease-out;
        }
        
        @keyframes celebrate {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .emoji {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .quick-action {
            background: rgba(0, 188, 212, 0.1);
            color: #00BCD4;
            border: 1px solid rgba(0, 188, 212, 0.3);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quick-action:hover {
            background: rgba(0, 188, 212, 0.2);
            transform: translateY(-1px);
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                max-height: 200px;
            }
            
            .active-goals {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo-section">
                <div class="logo">🌊 LifeStream</div>
                <div class="tagline">Track Every Moment</div>
            </div>
            
            <div class="quick-stats">
                <div class="stat-item">
                    <span class="stat-label">Today's Activities</span>
                    <span class="stat-value" id="todayActivities">3</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Active Goals</span>
                    <span class="stat-value" id="activeGoals">2</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Current Streak</span>
                    <span class="stat-value" id="currentStreak">5 days</span>
                </div>
            </div>
            
            <div class="active-goals">
                <div class="goals-title">Active Goals</div>
                <div class="goal-card">
                    <div class="goal-title">Read 10 hours this month</div>
                    <div class="goal-progress">3.2 hours completed • 68% on track</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 32%"></div>
                    </div>
                </div>
                <div class="goal-card">
                    <div class="goal-title">Send 100 emails this month</div>
                    <div class="goal-progress">67 emails sent • 33 to go</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 67%"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div class="greeting">Good afternoon! 👋</div>
                <div class="user-status">You're crushing your goals today - 3 activities logged!</div>
            </div>
            
            <div class="chat-area" id="chatArea">
                <!-- Initial welcome message -->
                <div class="message ai">
                    <div class="message-bubble">
                        Hey there! 🌟 Ready to track some amazing moments today? You can tell me about workouts, goals, reminders, or anything happening in your life. I'm here to help you stay on track!
                        
                        <div class="quick-actions">
                            <div class="quick-action" onclick="sendQuickMessage('I sent 12 emails and had 3 meetings today')">Log activities</div>
                            <div class="quick-action" onclick="sendQuickMessage('I want to read 2 books this month')">Set life goal</div>
                            <div class="quick-action" onclick="sendQuickMessage('How am I doing on my goals?')">Check progress</div>
                        </div>
                    </div>
                    <div class="message-time">2:15 PM</div>
                </div>
            </div>
            
            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        class="chat-input" 
                        id="chatInput" 
                        placeholder="Tell me about your day... (e.g., 'I sent 15 emails, read for 30 minutes, and want to call my dad tonight')"
                        rows="1"
                    ></textarea>
                    <button class="voice-btn" id="voiceBtn" title="Voice input">🎤</button>
                    <button class="send-btn" id="sendBtn" title="Send message">➤</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // App State
        let conversationHistory = [];
        let isTyping = false;
        let recognition = null;
        
        // User data simulation
        let userData = {
            goals: [
                {
                    id: 1,
                    type: 'duration',
                    title: 'Read 10 hours this month',
                    target: 10,
                    current: 3.2,
                    unit: 'hours',
                    timeframe: 'month'
                },
                {
                    id: 2,
                    type: 'quantity',
                    title: 'Send 100 emails this month',
                    target: 100,
                    current: 67,
                    unit: 'emails',
                    timeframe: 'month'
                }
            ],
            activities: [],
            patterns: {
                workoutDays: ['Monday', 'Wednesday', 'Friday'],
                callMomDay: 'Sunday'
            }
        };
        
        // DOM Elements
        const chatArea = document.getElementById('chatArea');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const voiceBtn = document.getElementById('voiceBtn');
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-resize textarea
            chatInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 100) + 'px';
                
                // Enable/disable send button
                sendBtn.disabled = this.value.trim().length === 0;
            });
            
            // Send on Enter (but allow Shift+Enter for new lines)
            chatInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Send button click
            sendBtn.addEventListener('click', sendMessage);
            
            // Voice input setup
            setupVoiceInput();
            
            // Initial state
            sendBtn.disabled = true;
        });
        
        function setupVoiceInput() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';
                
                recognition.onstart = function() {
                    voiceBtn.classList.add('recording');
                    voiceBtn.innerHTML = '🔴';
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    chatInput.value = transcript;
                    chatInput.style.height = 'auto';
                    chatInput.style.height = Math.min(chatInput.scrollHeight, 100) + 'px';
                    sendBtn.disabled = false;
                    chatInput.focus();
                };
                
                recognition.onend = function() {
                    voiceBtn.classList.remove('recording');
                    voiceBtn.innerHTML = '🎤';
                };
                
                voiceBtn.addEventListener('click', function() {
                    if (voiceBtn.classList.contains('recording')) {
                        recognition.stop();
                    } else {
                        recognition.start();
                    }
                });
            } else {
                voiceBtn.style.display = 'none';
            }
        }
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message || isTyping) return;
            
            // Add user message
            addMessage(message, 'user');
            
            // Clear input
            chatInput.value = '';
            chatInput.style.height = 'auto';
            sendBtn.disabled = true;
            
            // Process message
            processUserMessage(message);
        }
        
        function sendQuickMessage(message) {
            addMessage(message, 'user');
            processUserMessage(message);
        }
        
        function addMessage(content, sender, extras = {}) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const bubble = document.createElement('div');
            bubble.className = 'message-bubble';
            bubble.innerHTML = content;
            
            const time = document.createElement('div');
            time.className = 'message-time';
            time.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            messageDiv.appendChild(bubble);
            messageDiv.appendChild(time);
            
            // Add extras (insights, suggestions, etc.)
            if (extras.insight) {
                const insightDiv = document.createElement('div');
                insightDiv.className = 'insight-bubble';
                insightDiv.innerHTML = extras.insight;
                bubble.appendChild(insightDiv);
            }
            
            if (extras.goalSuggestion) {
                const suggestionDiv = document.createElement('div');
                suggestionDiv.className = 'goal-suggestion';
                suggestionDiv.innerHTML = extras.goalSuggestion;
                bubble.appendChild(suggestionDiv);
            }
            
            if (extras.celebration) {
                const celebrationDiv = document.createElement('div');
                celebrationDiv.className = 'celebration';
                celebrationDiv.innerHTML = `
                    <div class="emoji">${extras.celebration.emoji}</div>
                    <div>${extras.celebration.message}</div>
                `;
                bubble.appendChild(celebrationDiv);
            }
            
            if (extras.quickActions) {
                const actionsDiv = document.createElement('div');
                actionsDiv.className = 'quick-actions';
                extras.quickActions.forEach(action => {
                    const actionBtn = document.createElement('div');
                    actionBtn.className = 'quick-action';
                    actionBtn.textContent = action.text;
                    actionBtn.onclick = () => sendQuickMessage(action.message);
                    actionsDiv.appendChild(actionBtn);
                });
                bubble.appendChild(actionsDiv);
            }
            
            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
            
            return messageDiv;
        }
        
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai';
            typingDiv.id = 'typingIndicator';
            
            const typingBubble = document.createElement('div');
            typingBubble.className = 'typing-indicator';
            typingBubble.innerHTML = `
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            
            typingDiv.appendChild(typingBubble);
            chatArea.appendChild(typingDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
            
            return typingDiv;
        }
        
        function removeTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
        }
        
        function processUserMessage(message) {
            if (isTyping) return;
            isTyping = true;
            
            const typingIndicator = showTypingIndicator();
            
            // Simulate AI processing time
            setTimeout(() => {
                removeTypingIndicator();
                isTyping = false;
                
                const response = generateAIResponse(message);
                addMessage(response.message, 'ai', response.extras);
                
                // Update UI if needed
                if (response.updateStats) {
                    updateStats(response.updateStats);
                }
            }, 1500 + Math.random() * 1000);
        }
        
        function generateAIResponse(userMessage) {
            const msg = userMessage.toLowerCase();
            
            // Goal setting patterns
            if (msg.includes('want to') && (msg.includes('goal') || msg.includes('hour') || msg.includes('week') || msg.includes('day'))) {
                return handleGoalSetting(userMessage);
            }
            
            // Activity logging patterns
            if (msg.includes('read') || msg.includes('book') || msg.includes('study')) {
                return handleReadingLog(userMessage);
            }
            
            if (msg.includes('email') || msg.includes('sent') || msg.includes('wrote')) {
                return handleEmailLog(userMessage);
            }
            
            if (msg.includes('worked out') || msg.includes('exercised') || msg.includes('gym')) {
                return handleWorkoutLog(userMessage);
            }
            
            if (msg.includes('meditat') || msg.includes('mindful') || msg.includes('breathe')) {
                return handleMeditationLog(userMessage);
            }
            
            if (msg.includes('water') || msg.includes('drink') || msg.includes('hydrat')) {
                return handleHydrationLog(userMessage);
            }
            
            if (msg.includes('called') || msg.includes('talked to') || msg.includes('spoke with')) {
                return handleSocialLog(userMessage);
            }
            
            if (msg.includes('clean') || msg.includes('organized') || msg.includes('tidy')) {
                return handleCleaningLog(userMessage);
            }
            
            if (msg.includes('cook') || msg.includes('meal') || msg.includes('food')) {
                return handleCookingLog(userMessage);
            }
            
            // Progress check patterns
            if (msg.includes('how am i') || msg.includes('progress') || msg.includes('doing')) {
                return handleProgressCheck();
            }
            
            // Default encouraging response
            return {
                message: "I love that you're staying engaged with tracking your life! 🌟 Tell me about anything you did today - work, learning, health, relationships, creativity - I'm here to help you succeed!",
                extras: {
                    quickActions: [
                        { text: "Log activities", message: "I sent 10 emails and read for 20 minutes" },
                        { text: "Set life goal", message: "I want to learn Spanish this year" },
                        { text: "Check progress", message: "How am I doing on my goals?" }
                    ]
                }
            };
        }
        
        function handleGoalSetting(message) {
            // Extract goal from message (simplified)
            let goalType, target, timeframe, activity;
            
            if (message.includes('workout') || message.includes('exercise')) {
                activity = 'workout';
                if (message.includes('hour')) {
                    const hourMatch = message.match(/(\d+)\s*hour/);
                    target = hourMatch ? parseInt(hourMatch[1]) : 5;
                    goalType = 'duration';
                }
            }
            
            if (message.includes('week')) timeframe = 'week';
            if (message.includes('month')) timeframe = 'month';
            if (message.includes('day')) timeframe = 'day';
            
            return {
                message: `Great goal! Let me clarify a few things to set you up for success. 🎯 
                
                When you say "${activity}" what types should count? Gym sessions, running, yoga, sports, or all exercise?`,
                extras: {
                    quickActions: [
                        { text: "All exercise", message: "Count all types of exercise" },
                        { text: "Just gym & running", message: "Only gym and running workouts" },
                        { text: "Gym only", message: "Just gym workouts" }
                    ],
                    goalSuggestion: `💡 Based on your patterns, you usually work out on ${userData.patterns.workoutDays.join(', ')}. Should I suggest reminders on these days?`
                }
            };
        }
        
        function handleReadingLog(message) {
            const durationMatch = message.match(/(\d+)\s*minute/);
            const duration = durationMatch ? parseInt(durationMatch[1]) : 30;
            
            const readingGoal = userData.goals.find(g => g.title.includes('Read'));
            if (readingGoal) {
                readingGoal.current += duration / 60; // Convert to hours
            }
            
            const remaining = readingGoal ? (readingGoal.target - readingGoal.current).toFixed(1) : 0;
            
            return {
                message: `Excellent! ${duration} minutes of reading logged! 📚 Knowledge is power!`,
                extras: {
                    celebration: {
                        emoji: "🧠",
                        message: "Growing your mind every day!"
                    },
                    insight: readingGoal ? `You've read ${readingGoal.current.toFixed(1)} hours out of ${readingGoal.target} this month. ${remaining} hours to go!` : "Building that reading habit!",
                    quickActions: [
                        { text: "Log more reading", message: "I also read some articles online" },
                        { text: "Set reading goal", message: "I want to read 2 books this month" },
                        { text: "Check progress", message: "How am I doing on my reading goal?" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
        
        function handleEmailLog(message) {
            const emailMatch = message.match(/(\d+)\s*email/);
            const emails = emailMatch ? parseInt(emailMatch[1]) : 5;
            
            const emailGoal = userData.goals.find(g => g.title.includes('email'));
            if (emailGoal) {
                emailGoal.current += emails;
            }
            
            const remaining = emailGoal ? Math.max(emailGoal.target - emailGoal.current, 0) : 0;
            
            return {
                message: `Great communication! ${emails} emails logged! 📧`,
                extras: {
                    celebration: {
                        emoji: "📈",
                        message: "Staying on top of your communications!"
                    },
                    insight: emailGoal ? `You've sent ${emailGoal.current} emails out of ${emailGoal.target} this month. ${remaining} to go!` : "Excellent productivity!",
                    quickActions: [
                        { text: "Log calls/meetings", message: "I also had 3 important calls today" },
                        { text: "Set communication goal", message: "I want to improve my email response time" },
                        { text: "Check work progress", message: "How productive have I been this week?" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
        
        function handleMeditationLog(message) {
            const durationMatch = message.match(/(\d+)\s*minute/);
            const duration = durationMatch ? parseInt(durationMatch[1]) : 10;
            
            return {
                message: `Peaceful! ${duration} minutes of mindfulness logged! 🧘‍♀️`,
                extras: {
                    celebration: {
                        emoji: "☮️",
                        message: "Nurturing your inner peace!"
                    },
                    insight: "Regular meditation improves focus, reduces stress, and enhances emotional well-being. You're investing in your mental health!",
                    quickActions: [
                        { text: "Set meditation goal", message: "I want to meditate 20 minutes daily" },
                        { text: "Log mood", message: "I feel calm and centered after meditation" },
                        { text: "Mindfulness reminder", message: "Remind me to meditate tomorrow morning" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
        
        function handleHydrationLog(message) {
            const glassMatch = message.match(/(\d+)\s*(glass|cup|bottle)/);
            const glasses = glassMatch ? parseInt(glassMatch[1]) : 2;
            
            return {
                message: `Hydration hero! ${glasses} glasses of water logged! 💧`,
                extras: {
                    insight: "Proper hydration boosts energy, improves brain function, and supports overall health. Keep it flowing!",
                    quickActions: [
                        { text: "Set hydration goal", message: "I want to drink 8 glasses daily" },
                        { text: "Water reminder", message: "Remind me to drink water every 2 hours" },
                        { text: "Health tracking", message: "How am I doing with healthy habits?" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
        
        function handleCleaningLog(message) {
            return {
                message: "Awesome! Clean space, clear mind! 🏠✨",
                extras: {
                    celebration: {
                        emoji: "🌟",
                        message: "Creating a beautiful environment!"
                    },
                    insight: "A organized environment reduces stress and increases productivity. You're setting yourself up for success!",
                    quickActions: [
                        { text: "Home organization goal", message: "I want to declutter one room per week" },
                        { text: "Cleaning routine", message: "Help me create a cleaning schedule" },
                        { text: "Productivity boost", message: "I feel more focused in clean spaces" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
        
        function handleCookingLog(message) {
            return {
                message: "Delicious! Home cooking is self-care! 👨‍🍳🍽️",
                extras: {
                    celebration: {
                        emoji: "🥘",
                        message: "Nourishing your body and soul!"
                    },
                    insight: "Cooking at home is healthier, more economical, and incredibly satisfying. You're taking great care of yourself!",
                    quickActions: [
                        { text: "Cooking goal", message: "I want to cook at home 5 times per week" },
                        { text: "Meal planning", message: "Help me plan healthy meals" },
                        { text: "Recipe tracking", message: "I want to try 2 new recipes monthly" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
            // Extract workout details
            const durationMatch = message.match(/(\d+)\s*minute/);
            const duration = durationMatch ? parseInt(durationMatch[1]) : 45;
            
            // Update goal progress
            const workoutGoal = userData.goals.find(g => g.title.includes('Workout'));
            if (workoutGoal) {
                workoutGoal.current += duration / 60; // Convert to hours
            }
            
            // Generate encouraging response
            const remaining = workoutGoal ? (workoutGoal.target - workoutGoal.current).toFixed(1) : 0;
            const isAhead = workoutGoal ? workoutGoal.current / workoutGoal.target > 0.7 : false;
            
            return {
                message: `Awesome! ${duration}-minute workout logged! 💪`,
                extras: {
                    celebration: {
                        emoji: "🔥",
                        message: isAhead ? "You're CRUSHING your workout goal!" : "Great progress on your fitness journey!"
                    },
                    insight: workoutGoal ? `You've completed ${workoutGoal.current.toFixed(1)} hours out of ${workoutGoal.target} this week. Only ${remaining} hours to go!` : "Keep up the great work!",
                    quickActions: [
                        { text: "Log another activity", message: "I also did 20 minutes of stretching" },
                        { text: "Set workout reminder", message: "Remind me to workout tomorrow at 6 PM" },
                        { text: "Check all progress", message: "How am I doing on all my goals?" }
                    ]
                },
                updateStats: {
                    todayActivities: parseInt(document.getElementById('todayActivities').textContent) + 1
                }
            };
        }
        
        function handleSocialLog(message) {
            const familyGoal = userData.goals.find(g => g.title.includes('family'));
            if (familyGoal) {
                familyGoal.current += 1;
            }
            
            return {
                message: "That's wonderful! 📞 Staying connected with loved ones is so important.",
                extras: {
                    insight: familyGoal ? `You've made ${familyGoal.current} family calls this week out of your goal of ${familyGoal.target}. ${familyGoal.current >= familyGoal.target ? "Goal achieved! 🎉" : "You're doing great!"}`
